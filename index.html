<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora 2.0</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="calculadora">
        <div id="ot"><p id="output"></p></div>
        <table>
            <tr>
                <td><button onclick="clearOutput()" class="special3">C</button></td>
                <td><button onclick="clearLastNum()" class="special3">CE</button></td>
                <td><button onclick="raizquadrada()" class="special">âˆš</button></td>
                <td><button onclick="add('/')" class="special">/</button></td>
            </tr>
            <tr>
                <td><button onclick="add('7')">7</button></td>
                <td><button onclick="add('8')">8</button></td>
                <td><button onclick="add('9')">9</button></td>
                <td><button onclick="add('**')" class="special">^</button></td>
            </tr>
            <tr>
                <td><button onclick="add('4')">4</button></td>
                <td><button onclick="add('5')">5</button></td>
                <td><button onclick="add('6')">6</button></td>
                <td><button onclick="add('*')" class="special">*</button></td>
            </tr>
            <tr>
                <td><button onclick="add('1')">1</button></td>
                <td><button onclick="add('2')">2</button></td>
                <td><button onclick="add('3')">3</button></td>
                <td><button onclick="add('-')" class="special">-</button></td>
            </tr>
            <tr>
                <td><button onclick="add('.')" class="special">.</button></td>
                <td><button onclick="add(0)">0</button></td>
                <td><button onclick="add('+')" class="special">+</button></td>
                <td><button onclick="calcular()" class="special2">=</button></td>
            </tr>
        </table>
    </div>
</body>
</html>

<script>
    let resultado;
    function clearOutput(){
        document.getElementById("output").textContent = "";
    }
    function add(num)
    {
        if (document.getElementById("output").textContent.length < 10);
        {
        document.getElementById("output").innerHTML += num;
        }
    }
    function calcular(){
        resultado = eval(document.getElementById("output").textContent);
        if (resultado.toString().length > 5)
        {
            resultado = resultado.toFixed(8);
        }
        else
        {
            resultado = resultado.toFixed(2);
        }
        document.getElementById("output").textContent = resultado;
    }
    function raizquadrada(){
        resultado = Math.sqrt(parseInt(document.getElementById("output").textContent));
        console.log(resultado.toString.length)
        if (resultado.toString().length > 5)
        {
            resultado = resultado.toFixed(8);
        }
        else
        {
            resultado = resultado.toFixed(2);
        }
        document.getElementById("output").textContent = resultado;
    }
    function clearLastNum(){
        document.getElementById("output").innerHTML = document.getElementById("output").innerHTML.slice(0, -1);
    }
</script>